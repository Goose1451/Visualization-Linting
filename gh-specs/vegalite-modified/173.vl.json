{"$schema":"https://vega.github.io/schema/vega-lite/v2.json","description":"A dashboard with cross-highlighting.","hconcat":[{"layer":[{"selection":{"pts":{"type":"interval"}},"title":{"text":"Average slopeness in European catchments","anchor":"start"},"data":{"url":"https://rawgit.com/mattijn/datasets/master/eu_extreme_discharge_som.csv"},"mark":"rect","encoding":{"x":{"field":"X","type":"nominal","sort":null,"axis":{"labels":false,"ticks":false,"title":null}},"y":{"field":"Y","type":"nominal","sort":null,"axis":{"labels":false,"ticks":false,"title":null}},"opacity":{"condition":{"selection":"pts","value":1},"value":0.25},"color":{"field":"Slopeness (average)","type":"quantitative","legend":{"orient":"bottom"}}}}]},{"layer":[{"background":{"value":"red"},"data":{"url":"https://rawgit.com/mattijn/datasets/master/europe.topojson","format":{"type":"topojson","feature":"europe"}},"projection":{"type":"mercator"},"mark":{"type":"geoshape","fill":"#3D3D3D"},"encoding":{"stroke":{"value":"#3D3D3D"},"fill":{"value":"#030303"}}},{"data":{"url":"https://rawgit.com/mattijn/datasets/master/eu_extreme_discharge_locations.json","format":{"type":"json","property":"features"}},"transform":[{"lookup":"properties.som_key","from":{"data":{"url":"https://rawgit.com/mattijn/datasets/master/eu_extreme_discharge_som.csv"},"key":"XY"},"as":"geo"},{"calculate":"datum.geo.X","as":"X"},{"calculate":"datum.geo.Y","as":"Y"},{"filter":{"selection":"pts"}}],"projection":{"type":"mercator"},"mark":{"type":"geoshape","stroke":"#3D3D3D","strokeWidth":0.2},"encoding":{"color":{"field":"geo[\"Slopeness (average)\"]","type":"quantitative","legend":{"title":null}},"size":{"field":"geo[\"Slopeness (average)\"]","type":"quantitative"}}}],"width":500,"height":500}],"config":{"range":{"heatmap":["#3D3D3D","#F0F8FF","cornflowerblue","mediumseagreen","#FFEE00","darkorange","firebrick"]},"style":{"label":{"align":"left","baseline":"middle","dx":3}},"scale":{"rangeStep":10}}}