{"$schema":"https://vega.github.io/schema/vega-lite/v2.json","vconcat":[{"width":600,"height":300,"mark":"bar","data":{"url":"data/population.json","format":{"type":"json"}},"transform":[{"filter":"datum.year == 2000"},{"calculate":"datum.sex == 2 ? 'Female' : 'Male'","as":"gender"}],"encoding":{"y":{"aggregate":"sum","field":"people","type":"quantitative","axis":{"title":"population"}},"x":{"field":"age","type":"ordinal","scale":{"rangeStep":17}},"color":{"field":"gender","type":"nominal","scale":{"range":["#EA98D2","#659CCA"]}}}},{"width":600,"height":300,"mark":"bar","data":{"url":"data/population.json","format":{"type":"json"}},"transform":[{"filter":"datum.year == 2000"},{"calculate":"datum.sex == 2 ? 'Female' : 'Male'","as":"gender"}],"encoding":{"y":{"aggregate":"sum","field":"people","type":"quantitative","axis":{"title":"population"},"stack":"normalize"},"x":{"field":"age","type":"ordinal","scale":{"rangeStep":17}},"color":{"field":"gender","type":"nominal","scale":{"range":["#EA98D2","#659CCA"]}}}}]}